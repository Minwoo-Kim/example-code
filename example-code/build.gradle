buildscript {
	ext {
		springBootVersion = '1.3.1.RELEASE'
	}
	repositories {
		maven {
			credentials {
				username 'admin'
				password 'elidom'
			}
			url 'http://45.55.207.15:8081/content/groups/elidom-repository/'
			//maven { url 'http://repo.spring.io/plugins-release' }
		}
	}
	dependencies {
		classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
		classpath("org.springframework.build.gradle:propdeps-plugin:0.0.7")		 
	}
}

ext {
	springBootVersion = '1.3.1.RELEASE'
	springVersion = '4.2.5.RELEASE'
	embedTomcatVersion = '8.0.33'
}

apply plugin: 'spring-boot'
apply plugin: 'java'
apply plugin: 'maven'
apply plugin: 'eclipse'

sourceCompatibility = 1.8
version = '1.0'

jar {
	baseName = 'elidom-base'
	version = '0.0.1-SNAPSHOT'
	
    manifest {
        attributes 'Implementation-Title': 'Elidom-Base',
                   'Implementation-Version': version,
                   'Main-Class': 'xyz.elidom.base.ElidomBaseApplication'
    }
}

configurations {
    provided.all*.exclude group: 'javax.servlet'
}

repositories {
	maven {
		credentials {
				username 'admin'
				password 'elidom'
			} 
		url 'http://45.55.207.15:8081/content/groups/elidom-repository/' 
	}
	// maven { url 'http://repo.spring.io/plugins-release' }
}

dependencies {
    compile("org.springframework.boot:spring-boot-starter-web:${springBootVersion}") {
	 	// 내장되어있는 Tocat 8.0.30 버전이 Bug가 존재하여 Lib 목록에서 제외
	  	exclude module: "spring-boot-starter-tomcat"
	}
    
    // Embed Tomcat
	compile("org.apache.tomcat.embed:tomcat-embed-core:${embedTomcatVersion}")
	compile("org.apache.tomcat.embed:tomcat-embed-el:${embedTomcatVersion}")
	compile("org.apache.tomcat.embed:tomcat-embed-logging-juli:${embedTomcatVersion}")
	compile("org.apache.tomcat.embed:tomcat-embed-websocket:${embedTomcatVersion}")
	
	// Json-Simple
	compile("com.googlecode.json-simple:json-simple:1.1.1")
	// GSON
	compile("com.google.code.gson:gson:2.5")
	
	compile("commons-lang:commons-lang:2.6")
	
	// JUnit
    testCompile('org.springframework.boot:spring-boot-starter-test')

/*    
    // Spring Boot
    compile("org.springframework.boot:spring-boot-starter-jdbc:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-starter-websocket:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-configuration-processor:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-starter-redis:${springBootVersion}")
    compile("org.springframework.boot:spring-boot-starter-security:${springBootVersion}")
    
    // Spring
    compile("org.springframework:spring-messaging:${springVersion}")
    compile("org.springframework:spring-context-support:${springVersion}")
    
    // DSL
    compile("com.sun.script.jruby:jruby-engine:1.1.7")
    compile("org.codehaus.groovy:groovy-all:2.4.5")
    
    // Database
    runtime("com.h2database:h2:1.4.190")
    compile("postgresql:postgresql:9.1-901-1.jdbc4")
    compile("org.springframework.boot:spring-boot-starter-data-mongodb:${springBootVersion}")
    
    // Report
    compile("net.sf.jasperreports:jasperreports:6.2.0")
    
    // Cache
    compile("net.sf.ehcache:ehcache-core:2.6.10")
    
    // Velocity
    compile("org.apache.velocity:velocity:1.7")
    
    //Exel
    compile("org.jxls:jxls:2.2.9")
    compile("org.jxls:jxls-poi:1.0.8")
    compile("org.jxls:jxls-jexcel:1.0.5")
    compile("org.apache.poi:poi:3.13")
    compile("org.apache.poi:poi-ooxml:3.13")
    
    // JMS
    compile("org.springframework:spring-jms:${springVersion}")
    compile("org.apache.activemq:activemq-core:5.7.0")
    //compile("org.hornetq:hornetq-jms-server:2.4.0.Final"
	
	// Modbus    
    compile("net.wimpi:jamod:1.2")
    
    // Log
    compile("log4j:log4j:1.2.17")
	
	// Admin
	compile("org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}")
	compile("de.codecentric:spring-boot-starter-admin-client:1.1.2")
	compile("org.jolokia:jolokia-core:1.3.2")
    
    // Others
    compile("com.itextpdf:itextpdf:5.5.8")
    compile("com.lowagie:itext:4.2.1")
    compile("commons-collections:commons-collections:3.2")
    compile("com.google.code.gson:gson:2.5")
    compile("com.ganyo:gcm-server:1.0.2")
    compile("org.apache.httpcomponents:httpclient:4.5.1")    
    compile("es.arcadiaconsulting.javapns:javapns:2.2-json")
    compile("net.sf.common-util:common-util:1.0.17")
    compile("javax.mail:mail:1.5.0-b01")
*/	 
}

uploadArchives {
    repositories {
       flatDir {
           dirs 'repos'
       }
    }
}

compileJava.options.encoding = 'UTF-8'